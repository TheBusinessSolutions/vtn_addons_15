<odoo>

    <template id="aos_stock_card_summary_location.internal_layout">
        <div class="article">
            <link
                href="/aos_stock_card_summary_location/static/src/css/report.css"
                rel="stylesheet"
            />
            <t t-out="0" />
        </div>
        <div class="footer">
            <div class="row">
                <div class="col-6 custom_footer">
                    <span
                        t-out="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d')"
                    />
                </div>
                <div class="col-6 text-right custom_footer">
                    <span class="page" />/<span class="topage" />
                </div>
            </div>
        </div>
    </template>

    <template id="report_buttons">
        <div class="button_row">
            <button class="o_stock_card_reports_print btn btn-sm oe_button"><span
                    class="fa fa-print"
                />Print</button>
            <button class="o_stock_card_reports_export btn btn-sm oe_button"><span
                    class="fa fa-download"
                />Export</button>
        </div>
    </template>

    <template id="report_stock_card_report_html"> 
        <div class="o_stock_card_reports_page">
            <t t-call="aos_stock_card_summary_location.report_buttons" />
            <t t-call="aos_stock_card_summary_location.report_stock_card_report_base" />
        </div>
    </template>

    <template id="aos_stock_card_summary_location.report_stock_card_report_pdf">
        <t t-call="web.basic_layout">
            <t t-foreach="docs" t-as="o"> 
                <t t-call="aos_stock_card_summary_location.report_stock_card_summary_format_pdf" />
            </t>
        </t>
    </template>

    <template id="aos_stock_card_summary_location.report_stock_card_report_base">
        <!-- <t t-foreach="o.product_ids" t-as="product"> -->
            <div class="page">
                <div class="row  d-flex justify-content-center">
                    <t t-set="title">STOCK CARD SUMMARY REPORT LOCATION</t>
                    <h4 class="mt0" t-out="title" style="text-align: center;" />
                </div>
                <!-- Display filters -->
                <t t-call="aos_stock_card_summary_location.report_stock_card_report_filters" />
                <!-- Display stock card table -->
                <!-- <br></br>
                <br></br> -->
                <br></br>
                <div class="act_as_table data_table mt4" style="width: 100%;">
                    <!-- Display header line-->
                    <t t-call="aos_stock_card_summary_location.report_stock_card_summary_tables" />
                </div>
                <p style="page-break-before:always;" />
            </div>
        <!-- </t> -->
    </template>

    <!-- template for PDF report -->
    <template id="aos_stock_card_summary_location.report_stock_card_summary_format_pdf"> 
        <t t-call="aos_stock_card_summary_location.internal_layout">
            <div class="header">
                <div class="col-12">
                    <!-- <t t-set="title">STOCK CARD SUMMARY REPORT LOCATION</t> -->
                    <h4 style="text-align: center;">STOCK CARD SUMMARY REPORT LOCATION</h4>
                </div>
            </div>
            <div class="page">
                <t t-call="aos_stock_card_summary_location.report_stock_card_report_filters" />
                <!-- <br></br>
                <br></br> -->
                <br></br>
                <div class="act_as_table data_table mt4" style="width: 100%;">
                    <t t-call="aos_stock_card_summary_location.report_stock_card_summary_tables"/> 
                </div>
            </div>
        </t>
    </template>
    

    <!-- first table -->
    <template id="aos_stock_card_summary_location.report_stock_card_report_filters">
        <div class="act_as_table data_table" style="width: 100%;">
            <div class="act_as_row labels">
                <div class="act_as_cell" style="border: 1px solid black;">Company</div>
                <div class="act_as_cell" style="border: 1px solid black;">Generated Date</div>
                <div class="act_as_cell" style="border: 1px solid black;">Date</div>
                <div class="act_as_cell" style="border: 1px solid black;">Generated By</div>
            </div>
            <div class="act_as_row">
                <div class="act_as_cell" style="border: 1px solid black;">
                    <span t-field="o.company_id" />
                </div>
                <div class="act_as_cell" style="border: 1px solid black;">
                    <span t-field="o.generate_date" />
                </div>
                <div class="act_as_cell" style="border: 1px solid black;">
                    <span t-field="o.date_from"/> - <span t-field="o.date_to"/>
                </div>
                <div class="act_as_cell" style="border: 1px solid black;">
                    <span t-field="o.generate_by.name" />
                </div>
            </div>
        </div>
    </template>

    <!-- second table -->
    <template id="aos_stock_card_summary_location.report_stock_card_summary_tables">    
        <table class="table table-sm table-bordered" width="100%" style="font-size:10px;">
            <thead>
                <tr style="background-color:#F0F0F0;">
                    <td width="30%" style="border:1px solid black; font-weight:bold;">Product</td>
                    <td width="2%" style="border:1px solid black; font-weight:bold;">Location</td>
                    <td width="2%" style="border:1px solid black; font-weight:bold;">Beginning</td>
                    <td width="12%" style="border:1px solid black; font-weight:bold; vertical-align:middle; padding:0;">
                        Sale
                        <table width="100%">
                            <tr>
                                <td width="50%" style="border-right:1px solid black; border-top:1px solid black; text-align: center;">
                                    <span>Delivered (-)</span>
                                </td>
                                <td width="50%"  style="border-right:1px solid black; border-top:1px solid black; text-align: center;">
                                    <span>Returned (+)</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td width="12%" style="border:1px solid black; font-weight:bold; vertical-align:middle; padding:0;">
                        Purchase
                        <table width="100%">
                            <tr>
                                <td width="50%" style="border-right:1px solid black; border-top:1px solid black; text-align: center;">
                                    <span>Received (+)</span>
                                </td>
                                <td width="50%"  style="border-right:1px solid black; border-top:1px solid black; text-align: center;">
                                    <span>Returned (-)</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td width="12%" style="border:1px solid black; font-weight:bold; vertical-align:middle; padding:0;">
                        W/H Transfer
                        <table width="100%">
                            <tr>
                                <td width="50%" style="border-right:1px solid black; border-top:1px solid black; text-align: center;">
                                    <span>In (+)</span>
                                </td>
                                <td width="50%"  style="border-right:1px solid black; border-top:1px solid black; text-align: center;">
                                    <span>Out (-)</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td width="12%" style="border:1px solid black; font-weight:bold; vertical-align:middle; padding:0;">
                        Manufactured
                        <table width="100%">
                            <tr>
                                <td width="50%" style="border-right:1px solid black; border-top:1px solid black; text-align: center;">
                                    <span>In (+)</span>
                                </td>
                                <td width="50%"  style="border-right:1px solid black; border-top:1px solid black; text-align: center;">
                                    <span>Out (-)</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td width="12%" style="border:1px solid black; font-weight:bold; vertical-align:middle; padding:0;"> 
                        Adjustment
                        <table width="100%">
                            <tr>
                                <td width="50%" style="border-right:1px solid black; border-top:1px solid black; text-align: center;">
                                    <span>In (+)</span>
                                </td>
                                <td width="50%"  style="border-right:1px solid black; border-top:1px solid black; text-align: center;">
                                    <span>Out (-)</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td width="10%" style="border:1px solid black; font-weight:bold; vertical-align:middle; padding:0;">Scrap (-)</td>
                    <td width="10%" style="border:1px solid black; font-weight:bold; vertical-align:middle; padding:0;">Total</td>
                </tr>
            </thead>
            <tbody class="sale_tbody">

                <t t-foreach="o.results" t-as="line"> 
                    <tr>
                        <td style="border: 1px solid black; text-align:left;"><t t-out="line.product_name"/> </td>
                        <td style="border: 1px solid black; text-align:left;"><t t-out="line.location_name"/> </td>
                        <td style="border: 1px solid black; text-align:right;"><t t-out="line.beginning_qty" /> </td>
                        <td style="border: 1px solid black; height:10px; vertical-align:middle; padding:0;">
                            <table width="100%">
                                <tr>
                                    <td width="50%" style=" border-right:1px solid black; text-align: right;">
                                        <span><t t-out="'{0:,.2f}'.format(line.qty_sale_delivered)" /></span>
                                    </td>
                                    <td width="50%"  style="text-align: right;">
                                        <span><t t-out="'{0:,.2f}'.format(line.qty_sale_returned)" /></span>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td style="border: 1px solid black; height:10px; vertical-align:middle; padding:0;">
                            <table width="100%">
                                <tr>
                                    <td width="50%" style=" border-right:1px solid black; text-align: right;">
                                        <span><t t-out="'{0:,.2f}'.format(line.qty_purchase_received)" /></span>
                                    </td>
                                    <td width="50%"  style="text-align: right;">
                                        <span><t t-out="'{0:,.2f}'.format(line.qty_purchase_returned)" /></span>
                                    </td>
                                </tr>
                            </table>
                        </td>
                         <td style="border: 1px solid black; height:10px; vertical-align:middle; padding:0;">
                            <table width="100%">
                                <tr>
                                    <td width="50%" style=" border-right:1px solid black; text-align: right;">
                                        <span><t t-out="'{0:,.2f}'.format(line.product_in_qty)" /></span>
                                    </td>
                                    <td width="50%"  style="text-align: right;">
                                        <span><t t-out="'{0:,.2f}'.format(line.product_out_qty)" /></span> 
                                    </td>
                                </tr>
                            </table>
                        </td>
                         <td style="border: 1px solid black; height:10px; vertical-align:middle; padding:0;">
                            <table width="100%">
                                <tr>
                                    <td width="50%" style=" border-right:1px solid black; text-align: right;">
                                        <span><t t-out="'{0:,.2f}'.format(line.manufactured_in_qty)" /></span>
                                    </td>
                                    <td width="50%"  style="text-align: right;">
                                        <span><t t-out="'{0:,.2f}'.format(line.manufactured_out_qty)" /></span> 
                                    </td>
                                </tr>
                            </table>
                        </td>
                         <td style="border: 1px solid black; height:10px; vertical-align:middle; padding:0;">
                            <table width="100%">
                                <tr>
                                    <td width="50%" style=" border-right:1px solid black; text-align: right;">
                                        <span><t t-out="'{0:,.2f}'.format(line.adjustment_in_qty)" /></span>
                                    </td>
                                    <td width="50%"  style="text-align: right;">
                                        <span><t t-out="'{0:,.2f}'.format(line.adjustment_out_qty)" /></span>  
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td style="border: 1px solid black; text-align:right;"><t t-out="'{0:,.2f}'.format(line.scrap_out_qty)" /> </td>
                        <td style="border: 1px solid black; text-align:right;"><t t-out="'{0:,.2f}'.format(line.totals)" /></td>
                    </tr>
                </t>
            </tbody>
        </table>
    </template>
</odoo>
